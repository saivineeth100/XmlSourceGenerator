# Attributes Reference

## Core Attributes

The generator supports attributes from both `XmlSourceGenerator.Attributes` (provided by this package) and `System.Xml.Serialization`. You can use either namespace, as the generator recognizes attributes by name. This allows for easy migration from `XmlSerializer` without changing all your attribute references, or using the lightweight attributes provided by this package to avoid dependencies.

### `[XmlAutoGenerated]`

**Required** - Marks a class for source generation.

```csharp
[XmlAutoGenerated]
public partial class MyClass { }
```

**Requirements:**
- Class must be `partial`
- Class must have a parameterless constructor (implicit or explicit)

---

### `[XmlRoot]`

Customizes the root element name.

```csharp
[XmlRoot("CustomName")]
[XmlAutoGenerated]
public partial class User { }
```

**XML Output:**
```xml
<CustomName>...</CustomName>
```

---

### `[XmlElement]`

Customizes the XML element name for a property.

```csharp
[XmlElement("FullName")]
public string Name { get; set; }
```

**XML Output:**
```xml
<FullName>John</FullName>
```

**Parameters:**
- `elementName` (string): Custom element name
- `Namespace` (string, optional): XML namespace

---

### `[XmlAttribute]`

Serializes a property as an XML attribute instead of an element.

```csharp
[XmlAttribute("id")]
public int Id { get; set; }
```

**XML Output:**
```xml
<Person id="123">...</Person>
```

**Parameters:**
- `attributeName` (string, optional): Custom attribute name (defaults to property name)

---

### `[XmlIgnore]`

Excludes a property from serialization.

```csharp
[XmlIgnore]
public string Password { get; set; }
```

---

### `[XmlText]`

Serializes a property as the inner text of the element.

```csharp
[XmlAutoGenerated]
public partial class Message
{
    [XmlAttribute]
    public string Type { get; set; }
    
    [XmlText]
    public string Content { get; set; }
}
```

**XML Output:**
```xml
<Message Type="Info">Hello World</Message>
```

---

## Collection Attributes

### `[XmlArray]`

Wraps a collection in a container element.

```csharp
[XmlArray("Tags")]
[XmlArrayItem("Tag")]
public List<string> Tags { get; set; }
```

**XML Output:**
```xml
<Tags>
  <Tag>developer</Tag>
  <Tag>admin</Tag>
</Tags>
```

**Without `[XmlArray]`** (flat list):
```csharp
public List<string> Tags { get; set; }
```

**XML Output:**
```xml
<Tags>developer</Tags>
<Tags>admin</Tags>
```

---

### `[XmlArrayItem]`

Specifies the element name for items in a collection.

```csharp
[XmlArrayItem("Person")]
public List<User> Users { get; set; }
```

---

## DateTime Attributes

### `[XmlFormat]`

Specifies custom format(s) for DateTime serialization/deserialization.

```csharp
[XmlFormat("yyyy-MM-dd")]
public DateTime BirthDate { get; set; }

[XmlFormat("HH:mm:ss")]
public DateTime LoginTime { get; set; }

// Multiple formats for parsing
[XmlFormat("yyyy-MM-dd", "MM/dd/yyyy", "dd-MM-yyyy")]
public DateTime FlexibleDate { get; set; }
```

**Supported Types:**
- `DateTime`
- `DateTimeOffset`
- `DateOnly`
- `TimeOnly`
- `TimeSpan`

---

## Polymorphism Attributes

### `[XmlStreamListElement]`

Maps XML element names to concrete types for polymorphic collections.

```csharp
[XmlAutoGenerated]
public partial class Container
{
    [XmlStreamListElement("Dog", typeof(Dog))]
    [XmlStreamListElement("Cat", typeof(Cat))]
    public List<Animal> Animals { get; set; }
}
```

**XML Input:**
```xml
<Container>
  <Dog>
    <Name>Buddy</Name>
  </Dog>
  <Cat>
    <Name>Whiskers</Name>
  </Cat>
</Container>
```

---

## Attribute Combinations

Attributes can be combined for advanced scenarios:

```csharp
[XmlRoot("User")]
[XmlAutoGenerated]
public partial class User
{
    [XmlAttribute("id")]
    public int Id { get; set; }

    [XmlElement("FullName")]
    public string Name { get; set; }

    [XmlIgnore]
    public string InternalData { get; set; }

    [XmlFormat("yyyy-MM-dd")]
    public DateTime BirthDate { get; set; }

    [XmlArray("Roles")]
    [XmlArrayItem("Role")]
    public List<string> Roles { get; set; }
}
```
